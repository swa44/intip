<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ìƒˆ ê²Œì‹œë¬¼ ì‘ì„± | ì¸í…Œë¦¬ì–´ê¿€íŒ</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", "Malgun Gothic",
          sans-serif;
        line-height: 1.6;
        color: #333;
        background: #f8f9fa;
      }
      header {
        background: #fff;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        position: sticky;
        top: 0;
        z-index: 100;
      }
      .header-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 1.5rem 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .logo {
        font-size: 1.8rem;
        font-weight: 800;
        color: #2c3e50;
        text-decoration: none;
      }
      .logo span {
        color: #3498db;
      }
      nav ul {
        list-style: none;
        display: flex;
        gap: 2rem;
      }
      nav a {
        text-decoration: none;
        color: #555;
        font-weight: 500;
      }
      .container {
        max-width: 900px;
        margin: 3rem auto;
        background: white;
        padding: 3rem;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
      }
      h1 {
        font-size: 2.5rem;
        margin-bottom: 2rem;
        color: #2c3e50;
      }
      .form-group {
        margin-bottom: 2rem;
      }
      label {
        display: block;
        font-weight: 600;
        margin-bottom: 0.5rem;
        color: #2c3e50;
      }
      input[type="text"],
      input[type="date"],
      select,
      textarea {
        width: 100%;
        padding: 0.8rem;
        border: 1px solid #ddd;
        border-radius: 6px;
        font-size: 1rem;
        font-family: inherit;
      }
      textarea {
        min-height: 400px;
        line-height: 1.8;
      }
      .help-text {
        font-size: 0.9rem;
        color: #666;
        margin-top: 0.5rem;
      }
      .button-group {
        display: flex;
        gap: 1rem;
        margin-top: 2rem;
      }
      button {
        padding: 1rem 2rem;
        border: none;
        border-radius: 6px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
      }
      .btn-primary {
        background: #3498db;
        color: white;
      }
      .btn-primary:hover {
        background: #2980b9;
      }
      .btn-secondary {
        background: #95a5a6;
        color: white;
      }
      .btn-secondary:hover {
        background: #7f8c8d;
      }
      .preview {
        margin-top: 3rem;
        padding: 2rem;
        background: #f8f9fa;
        border-radius: 8px;
        display: none;
      }
      .preview h2 {
        margin-bottom: 1rem;
        color: #2c3e50;
      }
      .preview-content {
        background: white;
        padding: 2rem;
        border-radius: 6px;
      }
      footer {
        background: #2c3e50;
        color: #ecf0f1;
        padding: 3rem 2rem;
        margin-top: 4rem;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <header>
      <div class="header-container">
        <a href="/" class="logo">ì¸í…Œë¦¬ì–´<span>ê¿€íŒ</span></a>
        <nav>
          <ul>
            <li><a href="/">í™ˆ</a></li>
            <li><a href="/#posts">ê²Œì‹œë¬¼</a></li>
            <li><a href="/about.html">ì†Œê°œ</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <div class="container">
      <h1>ìƒˆ ê²Œì‹œë¬¼ ì‘ì„±</h1>

      <form id="postForm">
        <div class="form-group">
          <label for="title">ì œëª© *</label>
          <input
            type="text"
            id="title"
            name="title"
            required
            placeholder="ì˜ˆ: ì‘ì€ ì§‘ì„ ë„“ì–´ ë³´ì´ê²Œ í•˜ëŠ” 10ê°€ì§€ ì¸í…Œë¦¬ì–´ ë¹„ë²•"
          />
          <div class="help-text">
            ê²€ìƒ‰ ìµœì í™”ë¥¼ ìœ„í•´ êµ¬ì²´ì ì´ê³  ëª…í™•í•œ ì œëª©ì„ ì‘ì„±í•˜ì„¸ìš”.
          </div>
        </div>

        <div class="form-group">
          <label for="category">ì¹´í…Œê³ ë¦¬ *</label>
          <select id="category" name="category" required>
            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
            <option value="ê³µê°„í™œìš©">ê³µê°„í™œìš©</option>
            <option value="ì¡°ëª…">ì¡°ëª…</option>
            <option value="ì»¬ëŸ¬">ì»¬ëŸ¬</option>
            <option value="ê°€êµ¬ë°°ì¹˜">ê°€êµ¬ë°°ì¹˜</option>
            <option value="DIY">DIY</option>
            <option value="ìˆ˜ë‚©">ìˆ˜ë‚©</option>
            <option value="ì£¼ë°©">ì£¼ë°©</option>
            <option value="ìš•ì‹¤">ìš•ì‹¤</option>
            <option value="ì‹ë¬¼">ì‹ë¬¼</option>
            <option value="ì˜ˆì‚°ê´€ë¦¬">ì˜ˆì‚°ê´€ë¦¬</option>
          </select>
        </div>

        <div class="form-group">
          <label for="date">ì‘ì„±ì¼ *</label>
          <input type="date" id="date" name="date" required />
        </div>

        <div class="form-group">
          <label for="description">ìš”ì•½ ì„¤ëª… (Meta Description) *</label>
          <textarea
            id="description"
            name="description"
            rows="3"
            required
            placeholder="ì´ ê²Œì‹œë¬¼ì˜ ë‚´ìš©ì„ 150-160ìë¡œ ìš”ì•½í•˜ì„¸ìš”. ê²€ìƒ‰ ê²°ê³¼ì— í‘œì‹œë©ë‹ˆë‹¤."
          ></textarea>
          <div class="help-text">
            150-160ì ê¶Œì¥. í˜„ì¬: <span id="descCount">0</span>ì
          </div>
        </div>

        <div class="form-group">
          <label for="content">ë³¸ë¬¸ ë‚´ìš© *</label>
          <textarea
            id="content"
            name="content"
            required
            placeholder="HTML í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•˜ì„¸ìš”.

ì˜ˆì‹œ:
<h2>ì„¹ì…˜ ì œëª©</h2>
<p>ë³¸ë¬¸ ë‚´ìš©...</p>

<h3>ì†Œì œëª©</h3>
<p>ì„¤ëª…...</p>

<ul>
  <li>í•­ëª© 1</li>
  <li>í•­ëª© 2</li>
</ul>

<div class='tip-box'>
  <strong>ğŸ’¡ íŒ:</strong> ìœ ìš©í•œ ì •ë³´ë¥¼ ê³µìœ í•˜ì„¸ìš”.
</div>"
          ></textarea>
          <div class="help-text">
            ìµœì†Œ 2,000ì ì´ìƒ ì‘ì„±ì„ ê¶Œì¥í•©ë‹ˆë‹¤. í˜„ì¬:
            <span id="contentCount">0</span>ì
          </div>
        </div>

        <div class="button-group">
          <button type="button" class="btn-secondary" onclick="previewPost()">
            ë¯¸ë¦¬ë³´ê¸°
          </button>
          <button type="button" class="btn-primary" onclick="generateHTML()">
            HTML ìƒì„±
          </button>
        </div>
      </form>

      <div class="preview" id="preview">
        <h2>ë¯¸ë¦¬ë³´ê¸°</h2>
        <div class="preview-content" id="previewContent"></div>
      </div>

      <div
        class="form-group"
        id="outputSection"
        style="display: none; margin-top: 3rem"
      >
        <label for="output">ìƒì„±ëœ HTML ì½”ë“œ</label>
        <textarea
          id="output"
          rows="20"
          readonly
          style="font-family: monospace; font-size: 0.9rem"
        ></textarea>
        <div class="help-text">
          ì´ ì½”ë“œë¥¼ ë³µì‚¬í•˜ì—¬ /posts/íŒŒì¼ëª….htmlë¡œ ì €ì¥í•˜ì„¸ìš”.
        </div>
      </div>
    </div>

    <footer>
      <p>&copy; 2024 ì¸í…Œë¦¬ì–´ê¿€íŒ. All rights reserved.</p>
    </footer>

    <script>
      // ê¸€ì ìˆ˜ ì¹´ìš´í„°
      document
        .getElementById("description")
        .addEventListener("input", function () {
          document.getElementById("descCount").textContent = this.value.length;
        });

      document.getElementById("content").addEventListener("input", function () {
        document.getElementById("contentCount").textContent = this.value.length;
      });

      // ë¯¸ë¦¬ë³´ê¸° í•¨ìˆ˜
      function previewPost() {
        const title = document.getElementById("title").value;
        const content = document.getElementById("content").value;
        const category = document.getElementById("category").value;

        if (!title || !content) {
          alert("ì œëª©ê³¼ ë³¸ë¬¸ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
          return;
        }

        const previewHTML = `
                <div style="margin-bottom: 1rem;">
                    <span style="display: inline-block; background: #e3f2fd; color: #1976d2; padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.9rem; font-weight: 600;">${category}</span>
                </div>
                <h1 style="font-size: 2rem; margin-bottom: 1rem; color: #2c3e50;">${title}</h1>
                <div style="color: #999; font-size: 0.9rem; margin-bottom: 2rem;">ì‘ì„±ì¼: ${document.getElementById("date").value}</div>
                <div style="line-height: 1.8;">${content}</div>
            `;

        document.getElementById("previewContent").innerHTML = previewHTML;
        document.getElementById("preview").style.display = "block";
        document
          .getElementById("preview")
          .scrollIntoView({ behavior: "smooth" });
      }

      // HTML ìƒì„± í•¨ìˆ˜
      function generateHTML() {
        const title = document.getElementById("title").value;
        const category = document.getElementById("category").value;
        const date = document.getElementById("date").value;
        const description = document.getElementById("description").value;
        const content = document.getElementById("content").value;

        if (!title || !category || !date || !description || !content) {
          alert("ëª¨ë“  í•„ìˆ˜ í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
          return;
        }

        if (content.length < 2000) {
          if (!confirm("ë³¸ë¬¸ì´ 2,000ì ë¯¸ë§Œì…ë‹ˆë‹¤. ê³„ì†í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
            return;
          }
        }

        const categoryColors = {
          ê³µê°„í™œìš©: { bg: "#e3f2fd", color: "#1976d2" },
          ì¡°ëª…: { bg: "#fff3e0", color: "#f57c00" },
          ì»¬ëŸ¬: { bg: "#fce4ec", color: "#c2185b" },
          ê°€êµ¬ë°°ì¹˜: { bg: "#e8f5e9", color: "#2e7d32" },
          DIY: { bg: "#e1f5fe", color: "#0277bd" },
          ìˆ˜ë‚©: { bg: "#fff3e0", color: "#e65100" },
          ì£¼ë°©: { bg: "#f3e5f5", color: "#6a1b9a" },
          ìš•ì‹¤: { bg: "#e0f2f1", color: "#00695c" },
          ì‹ë¬¼: { bg: "#e8f5e9", color: "#2e7d32" },
          ì˜ˆì‚°ê´€ë¦¬: { bg: "#fff9c4", color: "#f57f17" },
        };

        const catStyle = categoryColors[category] || {
          bg: "#e3f2fd",
          color: "#1976d2",
        };

        const filename = title
          .toLowerCase()
          .replace(/[^ê°€-í£a-z0-9\s]/g, "")
          .replace(/\s+/g, "-")
          .substring(0, 50);

        const html = `<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${title} | ì¸í…Œë¦¬ì–´ê¿€íŒ</title>
    <meta name="description" content="${description}">
    <link rel="canonical" href="https://www.intip.kr/posts/${filename}.html">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Malgun Gothic', sans-serif; line-height: 1.8; color: #333; background: #f8f9fa; }
        header { background: #fff; box-shadow: 0 2px 10px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 100; }
        .header-container { max-width: 1200px; margin: 0 auto; padding: 1.5rem 2rem; display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 1.8rem; font-weight: 800; color: #2c3e50; text-decoration: none; }
        .logo span { color: #3498db; }
        nav ul { list-style: none; display: flex; gap: 2rem; }
        nav a { text-decoration: none; color: #555; font-weight: 500; }
        article { max-width: 800px; margin: 3rem auto; background: white; padding: 3rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.08); }
        .post-header { margin-bottom: 3rem; padding-bottom: 2rem; border-bottom: 2px solid #f0f0f0; }
        .post-category { display: inline-block; background: ${catStyle.bg}; color: ${catStyle.color}; padding: 0.5rem 1.2rem; border-radius: 20px; font-size: 0.9rem; font-weight: 600; margin-bottom: 1rem; }
        h1 { font-size: 2.5rem; line-height: 1.3; margin-bottom: 1rem; color: #2c3e50; }
        .post-meta { color: #999; font-size: 0.95rem; }
        .post-content h2 { font-size: 1.8rem; margin: 2.5rem 0 1.2rem; color: #2c3e50; }
        .post-content h3 { font-size: 1.4rem; margin: 2rem 0 1rem; color: #34495e; }
        .post-content p { margin-bottom: 1.5rem; line-height: 1.9; }
        .post-content ul, .post-content ol { margin: 1.5rem 0 1.5rem 2rem; }
        .post-content li { margin-bottom: 0.8rem; line-height: 1.8; }
        .post-content strong { color: #2c3e50; font-weight: 700; }
        .tip-box { background: #f0f7ff; border-left: 4px solid #3498db; padding: 1.5rem; margin: 2rem 0; border-radius: 4px; }
        footer { background: #2c3e50; color: #ecf0f1; padding: 3rem 2rem; margin-top: 4rem; text-align: center; }
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <a href="/" class="logo">ì¸í…Œë¦¬ì–´<span>ê¿€íŒ</span></a>
            <nav><ul><li><a href="/">í™ˆ</a></li><li><a href="/#posts">ê²Œì‹œë¬¼</a></li><li><a href="/about.html">ì†Œê°œ</a></li></ul></nav>
        </div>
    </header>
    <article>
        <div class="post-header">
            <span class="post-category">${category}</span>
            <h1>${title}</h1>
            <div class="post-meta">${date} Â· ì½ê¸°</div>
        </div>
        <div class="post-content">
            ${content}
        </div>
    </article>
    <footer><p>&copy; 2024 ì¸í…Œë¦¬ì–´ê¿€íŒ. All rights reserved.</p></footer>
</body>
</html>`;

        document.getElementById("output").value = html;
        document.getElementById("outputSection").style.display = "block";
        document
          .getElementById("outputSection")
          .scrollIntoView({ behavior: "smooth" });

        alert(
          `HTMLì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!\\n\\nê¶Œì¥ íŒŒì¼ëª…: ${filename}.html\\n\\nì½”ë“œë¥¼ ë³µì‚¬í•˜ì—¬ /posts/ í´ë”ì— ì €ì¥í•˜ì„¸ìš”.`,
        );
      }

      // ì˜¤ëŠ˜ ë‚ ì§œë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •
      document.getElementById("date").valueAsDate = new Date();
    </script>
  </body>
</html>
