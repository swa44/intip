<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ë¸”ë¡œê·¸ ê´€ë¦¬ì | ì¸í…Œë¦¬ì–´ê¿€íŒ</title>
    <!-- Quill Editor CSS -->
    <link
      href="https://cdn.quilljs.com/1.3.6/quill.snow.css"
      rel="stylesheet"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", "Malgun Gothic",
          sans-serif;
        background: #f8f9fa;
      }

      header {
        background: #fff;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        position: sticky;
        top: 0;
        z-index: 100;
      }
      .header-container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 1.5rem 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .logo {
        font-size: 1.8rem;
        font-weight: 800;
        color: #2c3e50;
        text-decoration: none;
      }
      .logo span {
        color: #3498db;
      }

      .container {
        max-width: 1400px;
        margin: 2rem auto;
        padding: 0 2rem;
      }
      .editor-wrapper {
        display: grid;
        grid-template-columns: 1fr 400px;
        gap: 2rem;
      }

      .main-editor {
        background: white;
        border-radius: 12px;
        padding: 2rem;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
      }
      .sidebar {
        background: white;
        border-radius: 12px;
        padding: 2rem;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        height: fit-content;
        position: sticky;
        top: 100px;
      }

      h1 {
        font-size: 2rem;
        margin-bottom: 2rem;
        color: #2c3e50;
      }
      h2 {
        font-size: 1.5rem;
        margin-bottom: 1.5rem;
        color: #2c3e50;
      }

      .form-group {
        margin-bottom: 1.5rem;
      }
      label {
        display: block;
        font-weight: 600;
        margin-bottom: 0.5rem;
        color: #2c3e50;
        font-size: 0.95rem;
      }
      input[type="text"],
      input[type="date"],
      select {
        width: 100%;
        padding: 0.8rem;
        border: 1px solid #ddd;
        border-radius: 6px;
        font-size: 1rem;
      }
      textarea {
        width: 100%;
        padding: 0.8rem;
        border: 1px solid #ddd;
        border-radius: 6px;
        font-size: 0.95rem;
        font-family: inherit;
        resize: vertical;
      }

      #editor {
        min-height: 500px;
        background: white;
      }
      .ql-editor {
        min-height: 500px;
        font-size: 1.05rem;
        line-height: 1.8;
      }

      .help-text {
        font-size: 0.85rem;
        color: #666;
        margin-top: 0.5rem;
      }
      .char-count {
        font-weight: 600;
        color: #3498db;
      }

      .button-group {
        display: flex;
        gap: 1rem;
        margin-top: 2rem;
      }
      button {
        padding: 1rem 2rem;
        border: none;
        border-radius: 6px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
      }
      .btn-primary {
        background: #3498db;
        color: white;
      }
      .btn-primary:hover {
        background: #2980b9;
        transform: translateY(-2px);
      }
      .btn-success {
        background: #27ae60;
        color: white;
      }
      .btn-success:hover {
        background: #229954;
        transform: translateY(-2px);
      }
      .btn-secondary {
        background: #95a5a6;
        color: white;
      }
      .btn-secondary:hover {
        background: #7f8c8d;
      }

      .image-upload {
        border: 2px dashed #ddd;
        border-radius: 8px;
        padding: 2rem;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s;
      }
      .image-upload:hover {
        border-color: #3498db;
        background: #f8f9fa;
      }
      .image-upload input {
        display: none;
      }

      .uploaded-images {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
        gap: 1rem;
        margin-top: 1rem;
      }
      .image-item {
        position: relative;
        border-radius: 8px;
        overflow: hidden;
        aspect-ratio: 1;
      }
      .image-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
      .image-item button {
        position: absolute;
        top: 5px;
        right: 5px;
        background: rgba(231, 76, 60, 0.9);
        color: white;
        border: none;
        border-radius: 50%;
        width: 24px;
        height: 24px;
        cursor: pointer;
        font-size: 14px;
      }

      .preview-section {
        margin-top: 3rem;
        padding: 2rem;
        background: #f8f9fa;
        border-radius: 8px;
        display: none;
      }
      .preview-content {
        background: white;
        padding: 2rem;
        border-radius: 6px;
      }

      .post-list {
        margin-top: 2rem;
      }
      .post-item {
        padding: 1rem;
        border-bottom: 1px solid #eee;
        cursor: pointer;
        transition: background 0.2s;
      }
      .post-item:hover {
        background: #f8f9fa;
      }
      .post-item-title {
        font-weight: 600;
        color: #2c3e50;
        margin-bottom: 0.25rem;
      }
      .post-item-meta {
        font-size: 0.85rem;
        color: #999;
      }

      .alert {
        padding: 1rem;
        border-radius: 6px;
        margin-bottom: 1rem;
      }
      .alert-success {
        background: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
      }
      .alert-error {
        background: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
      }

        /* Tip Box Style */
        .tip-box {
            background: #fff8e1;
            border-left: 5px solid #ff9800;
            padding: 1.5rem;
            margin: 2rem 0;
            border-radius: 4px;
            font-size: 1rem;
            color: #333;
        }
        .tip-box strong { color: #e65100; font-weight: 700; }

        /* Quill Editor Tip Box Button */
        .ql-tipBox:after {
            content: "ğŸ’¡";
            font-size: 1.2rem;
        }
    </style>
  </head>
  <body>
    <header>
      <div class="header-container">
        <a href="/" class="logo"
          >ì¸í…Œë¦¬ì–´<span>ê¿€íŒ</span>
          <small style="font-size: 0.6em; color: #95a5a6">ê´€ë¦¬ì</small></a
        >
        <nav>
          <button onclick="window.location.href = '/'" class="btn-secondary">
            ì‚¬ì´íŠ¸ ë³´ê¸°
          </button>
        </nav>
      </div>
    </header>

    <div class="container">
      <div id="alertContainer"></div>

      <form class="editor-wrapper" id="postForm">
        <div class="main-editor">
          <h1>âœï¸ ìƒˆ ê²Œì‹œë¬¼ ì‘ì„±</h1>

            <div class="form-group">
              <label for="title">ì œëª© *</label>
              <input
                type="text"
                id="title"
                required
                placeholder="ì˜ˆ: ì‘ì€ ì§‘ì„ ë„“ì–´ ë³´ì´ê²Œ í•˜ëŠ” 10ê°€ì§€ ì¸í…Œë¦¬ì–´ ë¹„ë²•"
              />
              <div class="help-text">
                ê²€ìƒ‰ ìµœì í™”ë¥¼ ìœ„í•´ êµ¬ì²´ì ì´ê³  ëª…í™•í•œ ì œëª©ì„ ì‘ì„±í•˜ì„¸ìš”.
              </div>
            </div>

            <div class="form-group">
              <label for="description">ìš”ì•½ ì„¤ëª… (Meta Description) *</label>
              <textarea
                id="description"
                rows="3"
                required
                placeholder="ì´ ê²Œì‹œë¬¼ì˜ ë‚´ìš©ì„ 150-160ìë¡œ ìš”ì•½í•˜ì„¸ìš”."
              ></textarea>
              <div class="help-text">
                150-160ì ê¶Œì¥. í˜„ì¬:
                <span class="char-count" id="descCount">0</span>ì
              </div>
            </div>

            <div class="form-group">
              <label>ë³¸ë¬¸ ë‚´ìš© *</label>
              <!-- Custom Toolbar Container -->
              <div id="toolbar-container">
                  <span class="ql-formats">
                      <select class="ql-header">
                          <option value="1">Heading 1</option>
                          <option value="2">Heading 2</option>
                          <option value="3">Heading 3</option>
                          <option selected>Normal</option>
                      </select>
                  </span>
                  <span class="ql-formats">
                      <button class="ql-bold"></button>
                      <button class="ql-italic"></button>
                      <button class="ql-underline"></button>
                      <button class="ql-strike"></button>
                  </span>
                  <span class="ql-formats">
                      <button class="ql-list" value="ordered"></button>
                      <button class="ql-list" value="bullet"></button>
                  </span>
                  <span class="ql-formats">
                      <select class="ql-align"></select>
                  </span>
                  <span class="ql-formats">
                      <select class="ql-color"></select>
                      <select class="ql-background"></select>
                  </span>
                  <span class="ql-formats">
                      <button class="ql-link"></button>
                      <button class="ql-image"></button>
                  </span>
                  <span class="ql-formats">
                      <button class="ql-blockquote"></button>
                      <button class="ql-code-block"></button>
                      <!-- Custom Tip Box Button -->
                      <button class="ql-tipBox" title="ì „ë¬¸ê°€ íŒ ë°•ìŠ¤ ì¶”ê°€"></button>
                  </span>
                  <span class="ql-formats">
                      <button class="ql-clean"></button>
                  </span>
              </div>
              <div id="editor"></div>
              <div class="help-text">
                ìµœì†Œ 2,000ì ì´ìƒ ì‘ì„±ì„ ê¶Œì¥í•©ë‹ˆë‹¤. í˜„ì¬:
                <span class="char-count" id="contentCount">0</span>ì
              </div>
            </div>

            <div class="form-group">
              <label>ì´ë¯¸ì§€ ì—…ë¡œë“œ</label>
              <div
                class="image-upload"
                onclick="document.getElementById('imageInput').click()"
              >
                <input type="file" id="imageInput" accept="image/*" multiple />
                <p>ğŸ“· í´ë¦­í•˜ì—¬ ì´ë¯¸ì§€ ì—…ë¡œë“œ</p>
                <p style="font-size: 0.9rem; color: #666; margin-top: 0.5rem">
                  ë˜ëŠ” ì—ë””í„°ì— ì§ì ‘ ë“œë˜ê·¸ ì•¤ ë“œë¡­
                </p>
              </div>
              <div class="uploaded-images" id="uploadedImages"></div>
            </div>
          </form>
        </div>

        <div class="sidebar">
          <h2>ê²Œì‹œë¬¼ ì„¤ì •</h2>

          <div class="form-group">
            <label for="category">ì¹´í…Œê³ ë¦¬ *</label>
            <select id="category" required>
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              <option value="ê³µê°„í™œìš©">ê³µê°„í™œìš©</option>
              <option value="ì¡°ëª…">ì¡°ëª…</option>
              <option value="ì»¬ëŸ¬">ì»¬ëŸ¬</option>
              <option value="ê°€êµ¬ë°°ì¹˜">ê°€êµ¬ë°°ì¹˜</option>
              <option value="DIY">DIY</option>
              <option value="ìˆ˜ë‚©">ìˆ˜ë‚©</option>
              <option value="ì£¼ë°©">ì£¼ë°©</option>
              <option value="ìš•ì‹¤">ìš•ì‹¤</option>
              <option value="ì‹ë¬¼">ì‹ë¬¼</option>
              <option value="ì˜ˆì‚°ê´€ë¦¬">ì˜ˆì‚°ê´€ë¦¬</option>
            </select>
          </div>

          <div class="form-group">
            <label for="date">ì‘ì„±ì¼ *</label>
            <input type="date" id="date" required />
          </div>

          <div class="button-group" style="flex-direction: column">
            <button type="button" class="btn-success" onclick="savePost()">
              ğŸ’¾ ì €ì¥í•˜ê¸°
            </button>
            <button type="button" class="btn-primary" onclick="downloadHTML()">
              â¬‡ï¸ HTML ë‹¤ìš´ë¡œë“œ
            </button>
            <button type="button" class="btn-secondary" onclick="previewPost()">
              ğŸ‘ï¸ ë¯¸ë¦¬ë³´ê¸°
            </button>
          </div>

          <div class="post-list" style="margin-top: 2rem">
            <h3 style="font-size: 1.1rem; margin-bottom: 1rem">
              ì €ì¥ëœ ê²Œì‹œë¬¼
            </h3>
            <div id="savedPosts"></div>
          </div>
        </div>
      </div>

      <div class="preview-section" id="previewSection">
        <h2>ë¯¸ë¦¬ë³´ê¸°</h2>
        <div class="preview-content" id="previewContent"></div>
      </div>
    </div>

    <!-- Quill Editor JS -->
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    <script>
      // Quill ì—ë””í„° ì´ˆê¸°í™”
      const quill = new Quill("#editor", {
        theme: "snow",
        modules: {
          toolbar: [
            [{ header: [1, 2, 3, false] }],
            ["bold", "italic", "underline", "strike"],
            [{ list: "ordered" }, { list: "bullet" }],
            [{ align: [] }],
            [{ color: [] }, { background: [] }],
            ["link", "image"],
            ["blockquote", "code-block"],
            ["clean"],
          ],
        },
        placeholder:
          "ì—¬ê¸°ì— ë³¸ë¬¸ ë‚´ìš©ì„ ì‘ì„±í•˜ì„¸ìš”...\n\níŒ: ì´ë¯¸ì§€ë¥¼ ë“œë˜ê·¸ ì•¤ ë“œë¡­í•˜ê±°ë‚˜ íˆ´ë°”ì˜ ì´ë¯¸ì§€ ë²„íŠ¼ì„ ì‚¬ìš©í•˜ì„¸ìš”.",
      });

      // Custom Handler for Tip Box
      setTimeout(function() {
        const tipBoxButton = document.querySelector('.ql-tipBox');
        if (tipBoxButton) {
            tipBoxButton.addEventListener('click', function() {
                const range = quill.getSelection(true);
                if (range) {
                    const tipBoxHTML = '<div class="tip-box"><strong>ğŸ’¡ ì „ë¬¸ê°€ íŒ:</strong> ì—¬ê¸°ì— íŒ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”.</div><p><br></p>';
                    quill.clipboard.dangerouslyPasteHTML(range.index, tipBoxHTML);
                }
            });
        }
      }, 500);

      // ê¸€ì ìˆ˜ ì¹´ìš´í„°
      document
        .getElementById("description")
        .addEventListener("input", function () {
          document.getElementById("descCount").textContent = this.value.length;
        });

      quill.on("text-change", function () {
        const text = quill.getText();
        document.getElementById("contentCount").textContent = text.length;
      });

      // ì´ë¯¸ì§€ ì—…ë¡œë“œ ì²˜ë¦¬
      document
        .getElementById("imageInput")
        .addEventListener("change", function (e) {
          const files = e.target.files;
          handleImageUpload(files);
        });

      function handleImageUpload(files) {
        const container = document.getElementById("uploadedImages");

        Array.from(files).forEach((file) => {
          if (file.type.startsWith("image/")) {
            const reader = new FileReader();
            reader.onload = function (e) {
              const imageData = e.target.result;

              // ì—ë””í„°ì— ì´ë¯¸ì§€ ì‚½ì…
              const range = quill.getSelection() || {
                index: quill.getLength(),
              };
              quill.insertEmbed(range.index, "image", imageData);

              // ì¸ë„¤ì¼ í‘œì‹œ
              const div = document.createElement("div");
              div.className = "image-item";
              div.innerHTML = `
                            <img src="${imageData}" alt="Uploaded">
                            <button onclick="this.parentElement.remove()">Ã—</button>
                        `;
              container.appendChild(div);
            };
            reader.readAsDataURL(file);
          }
        });
      }

      // ì˜¤ëŠ˜ ë‚ ì§œ ê¸°ë³¸ê°’
      document.getElementById("date").valueAsDate = new Date();

      // ê²Œì‹œë¬¼ ì €ì¥
      function savePost() {
        const title = document.getElementById("title").value;
        const category = document.getElementById("category").value;
        const date = document.getElementById("date").value;
        const description = document.getElementById("description").value;
        const content = quill.root.innerHTML;

        if (!title || !category || !date || !description || !content) {
          showAlert("ëª¨ë“  í•„ìˆ˜ í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.", "error");
          return;
        }

        const post = {
          id: Date.now(),
          title,
          category,
          date,
          description,
          content,
          createdAt: new Date().toISOString(),
        };

        // LocalStorageì— ì €ì¥
        let posts = JSON.parse(localStorage.getItem("blogPosts") || "[]");
        posts.unshift(post);
        localStorage.setItem("blogPosts", JSON.stringify(posts));

        showAlert("ê²Œì‹œë¬¼ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ’¾", "success");
        loadSavedPosts();

        // í¼ ì´ˆê¸°í™” ì—¬ë¶€ í™•ì¸
        if (confirm("ìƒˆ ê²Œì‹œë¬¼ì„ ì‘ì„±í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
          resetForm();
        }
      }

      // HTML ë‹¤ìš´ë¡œë“œ
      function downloadHTML() {
        const title = document.getElementById("title").value;
        const category = document.getElementById("category").value;
        const date = document.getElementById("date").value;
        const description = document.getElementById("description").value;
        const content = quill.root.innerHTML;

        if (!title || !category || !date || !description || !content) {
          showAlert("ëª¨ë“  í•„ìˆ˜ í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.", "error");
          return;
        }

        const html = generateHTML(title, category, date, description, content);
        const filename = generateFilename(title);

        const blob = new Blob([html], { type: "text/html" });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = filename;
        a.click();
        URL.revokeObjectURL(url);

        showAlert(`HTML íŒŒì¼ì´ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤: ${filename}`, "success");
      }

      // HTML ìƒì„±
      function generateHTML(title, category, date, description, content) {
        const categoryColors = {
          ê³µê°„í™œìš©: { bg: "#e3f2fd", color: "#1976d2" },
          ì¡°ëª…: { bg: "#fff3e0", color: "#f57c00" },
          ì»¬ëŸ¬: { bg: "#fce4ec", color: "#c2185b" },
          ê°€êµ¬ë°°ì¹˜: { bg: "#e8f5e9", color: "#2e7d32" },
          DIY: { bg: "#e1f5fe", color: "#0277bd" },
          ìˆ˜ë‚©: { bg: "#fff3e0", color: "#e65100" },
          ì£¼ë°©: { bg: "#f3e5f5", color: "#6a1b9a" },
          ìš•ì‹¤: { bg: "#e0f2f1", color: "#00695c" },
          ì‹ë¬¼: { bg: "#e8f5e9", color: "#2e7d32" },
          ì˜ˆì‚°ê´€ë¦¬: { bg: "#fff9c4", color: "#f57f17" },
        };

        const catStyle = categoryColors[category] || {
          bg: "#e3f2fd",
          color: "#1976d2",
        };

        return `<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${title} | ì¸í…Œë¦¬ì–´ê¿€íŒ</title>
    <meta name="description" content="${description}">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Malgun Gothic', sans-serif; line-height: 1.8; color: #333; background: #f8f9fa; }
        header { background: #fff; box-shadow: 0 2px 10px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 100; }
        .header-container { max-width: 1200px; margin: 0 auto; padding: 1.5rem 2rem; display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 1.8rem; font-weight: 800; color: #2c3e50; text-decoration: none; }
        .logo span { color: #3498db; }
        nav ul { list-style: none; display: flex; gap: 2rem; }
        nav a { text-decoration: none; color: #555; font-weight: 500; }
        article { max-width: 800px; margin: 3rem auto; background: white; padding: 3rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.08); }
        .post-header { margin-bottom: 3rem; padding-bottom: 2rem; border-bottom: 2px solid #f0f0f0; }
        .post-category { display: inline-block; background: ${catStyle.bg}; color: ${catStyle.color}; padding: 0.5rem 1.2rem; border-radius: 20px; font-size: 0.9rem; font-weight: 600; margin-bottom: 1rem; }
        h1 { font-size: 2.5rem; line-height: 1.3; margin-bottom: 1rem; color: #2c3e50; }
        .post-meta { color: #999; font-size: 0.95rem; }
        .post-content { line-height: 1.9; }
        .post-content h2 { font-size: 1.8rem; margin: 2.5rem 0 1.2rem; color: #2c3e50; }
        .post-content h3 { font-size: 1.4rem; margin: 2rem 0 1rem; color: #34495e; }
        .post-content p { margin-bottom: 1.5rem; }
        .post-content img { max-width: 100%; height: auto; border-radius: 8px; margin: 2rem 0; }
        .post-content ul, .post-content ol { margin: 1.5rem 0 1.5rem 2rem; }
        .post-content li { margin-bottom: 0.8rem; }
        .post-content strong { color: #2c3e50; font-weight: 700; }
        .post-content blockquote { border-left: 4px solid #3498db; padding-left: 1.5rem; margin: 2rem 0; color: #666; font-style: italic; }
        .tip-box { background: #fff8e1; border-left: 5px solid #ff9800; padding: 1.5rem; margin: 2rem 0; border-radius: 4px; font-size: 1rem; color: #333; }
        .tip-box strong { color: #e65100; font-weight: 700; }
        footer { background: #2c3e50; color: #ecf0f1; padding: 3rem 2rem; margin-top: 4rem; text-align: center; }
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <a href="/" class="logo">ì¸í…Œë¦¬ì–´<span>ê¿€íŒ</span></a>
            <nav><ul><li><a href="/">í™ˆ</a></li><li><a href="/#posts">ê²Œì‹œë¬¼</a></li><li><a href="/about.html">ì†Œê°œ</a></li></ul></nav>
        </div>
    </header>
    <article>
        <div class="post-header">
            <span class="post-category">${category}</span>
            <h1>${title}</h1>
            <div class="post-meta">${date}</div>
        </div>
        <div class="post-content">
            ${content}
        </div>
    </article>
    <footer><p>&copy; 2026 ì¸í…Œë¦¬ì–´ê¿€íŒ. All rights reserved.</p></footer>
</body>
</html>`;
      }

      // íŒŒì¼ëª… ìƒì„±
      function generateFilename(title) {
        return (
          title
            .toLowerCase()
            .replace(/[^ê°€-í£a-z0-9\s]/g, "")
            .replace(/\s+/g, "-")
            .substring(0, 50) + ".html"
        );
      }

      // ë¯¸ë¦¬ë³´ê¸°
      function previewPost() {
        const title = document.getElementById("title").value;
        const category = document.getElementById("category").value;
        const date = document.getElementById("date").value;
        const content = quill.root.innerHTML;

        if (!title || !content) {
          showAlert("ì œëª©ê³¼ ë³¸ë¬¸ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.", "error");
          return;
        }

        const previewHTML = `
                <div style="margin-bottom: 1rem;">
                    <span style="display: inline-block; background: #e3f2fd; color: #1976d2; padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.9rem; font-weight: 600;">${category}</span>
                </div>
                <h1 style="font-size: 2rem; margin-bottom: 1rem; color: #2c3e50;">${title}</h1>
                <div style="color: #999; font-size: 0.9rem; margin-bottom: 2rem;">ì‘ì„±ì¼: ${date}</div>
                <div style="line-height: 1.8;">${content}</div>
            `;

        document.getElementById("previewContent").innerHTML = previewHTML;
        document.getElementById("previewSection").style.display = "block";
        document
          .getElementById("previewSection")
          .scrollIntoView({ behavior: "smooth" });
      }

      // ì €ì¥ëœ ê²Œì‹œë¬¼ ë¡œë“œ
      function loadSavedPosts() {
        const posts = JSON.parse(localStorage.getItem("blogPosts") || "[]");
        const container = document.getElementById("savedPosts");

        if (posts.length === 0) {
          container.innerHTML =
            '<p style="color: #999; font-size: 0.9rem;">ì €ì¥ëœ ê²Œì‹œë¬¼ì´ ì—†ìŠµë‹ˆë‹¤.</p>';
          return;
        }

        container.innerHTML = posts
          .map(
            (post) => `
                <div class="post-item" onclick="loadPost(${post.id})">
                    <div class="post-item-title">${post.title}</div>
                    <div class="post-item-meta">${post.category} Â· ${post.date}</div>
                </div>
            `,
          )
          .join("");
      }

      // ê²Œì‹œë¬¼ ë¶ˆëŸ¬ì˜¤ê¸°
      function loadPost(id) {
        const posts = JSON.parse(localStorage.getItem("blogPosts") || "[]");
        const post = posts.find((p) => p.id === id);

        if (post) {
          document.getElementById("title").value = post.title;
          document.getElementById("category").value = post.category;
          document.getElementById("date").value = post.date;
          document.getElementById("description").value = post.description;
          quill.root.innerHTML = post.content;

          showAlert("ê²Œì‹œë¬¼ì„ ë¶ˆëŸ¬ì™”ìŠµë‹ˆë‹¤.", "success");
          window.scrollTo({ top: 0, behavior: "smooth" });
        }
      }

      // í¼ ì´ˆê¸°í™”
      function resetForm() {
        document.getElementById("title").value = "";
        document.getElementById("category").value = "";
        document.getElementById("date").valueAsDate = new Date();
        document.getElementById("description").value = "";
        quill.setText("");
        document.getElementById("uploadedImages").innerHTML = "";
      }

      // ì•Œë¦¼ í‘œì‹œ
      function showAlert(message, type) {
        const container = document.getElementById("alertContainer");
        const alert = document.createElement("div");
        alert.className = `alert alert-${type}`;
        alert.textContent = message;
        container.appendChild(alert);

        setTimeout(() => alert.remove(), 5000);
      }

      // í˜ì´ì§€ ë¡œë“œ ì‹œ ì €ì¥ëœ ê²Œì‹œë¬¼ ë¡œë“œ
      loadSavedPosts();
    </script>
  </body>
</html>
